(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5475)}])},5475:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return F}});var n=t(5893),o=t(9008),a=t(7673),i=t(3193),u=t(7294);function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,r,t){return d=l()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(e,n));return t&&g(o,t.prototype),o},d.apply(null,arguments)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function p(e,r){return null!=r&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](e):e instanceof r}function h(e,r){return!r||"object"!==y(r)&&"function"!==typeof r?f(e):r}function g(e,r){return g=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},g(e,r)}function v(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var r="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return d(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},w(e)}function _(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=m(e);if(r){var o=m(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return h(this,t)}}var E={},b=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&g(e,r)}(t,e);var r=_(t);function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var a;return c(this,t),a=r.call.apply(r,[this].concat(v(n))),Error.captureStackTrace&&Error.captureStackTrace(f(a),t),a.name="PhasmaViewerError",a}return t}(w(Error));function x(e){return E._free(e)}function k(){return E._malloc(Int32Array.BYTES_PER_ELEMENT)}function P(e){return new Int32Array(E.HEAPU8.buffer,e,Int32Array.BYTES_PER_ELEMENT)[0]}function S(e){var r=e.length*e.BYTES_PER_ELEMENT,t=E._malloc(r);return new Uint8Array(E.HEAPU8.buffer,t,r).set(new Uint8Array(e.buffer)),t}function B(e){return 1<<e}B(0),B(1),B(2);function A(e){if(console.log("WebGLPhasmaViewerEngine",e),null==e.getExtension("EXT_color_buffer_float"))throw new b("The current version of WebRays requires the EXT_color_buffer_float extention");var r=k(),t=k();E._PH_Version(r,t),E.preinitializedWebGLContext=e,this.GL=E.GL;var n,o,a=this.GL.registerContext(e,{majorVersion:2,minorVersion:0});this.GL.makeContextCurrent(a),this.Version={major:P(r),minor:P(t),description:(n=E._PH_VersionString(),o=256,E.UTF8ToString(n,o))},x(r),x(t),this.Context=E._PH_Create(),E._PH_Init3D(this.Context),E._PH_Resize(this.Context,e.drawingBufferWidth,e.drawingBufferHeight),this.Update=function(e){E._PH_Update(this.Context,e);return 0,0},this.Render=function(){var e=k(),r=E._PH_Render(this.Context,e),t=P(e);if(x(e),0==r)throw new b("Error in rendering operations of the engine.");return t},this.AddTexture=function(){var r=this,t=E._PH_CreateTexture(this.Context),n="./textures/preview_white.jpg";return console.log("Uploading Sky Image from:",n),fetch(n).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e)})).then((function(n){var o=n.width,a=n.height,i=Math.floor(Math.log2(Math.max(o,a)));e.bindTexture(e.TEXTURE_2D,r.GL.textures[t]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texStorage2D(e.TEXTURE_2D,i,e.SRGB8_ALPHA8,o,a),e.texSubImage2D(e.TEXTURE_2D,0,0,0,o,a,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null),E._PH_AddObjectTextures(r.Context,t)})).catch((function(e){console.error(e)})),!0},this.LoadScene=function(e){var r=this;console.log("Uploading Scene File from:",e),fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){if(0==e.byteLength)throw"error in length";var t=S(new Uint8Array(e));E._PH_LoadSceneMemory(r.Context,t,e.byteLength),E._PH_Update(r.Context,.1),E._PH_ResetCamera(r.Context)})).catch((function(e){console.error(e)}))},this.LoadEnvImage=function(r){var t=this;console.log("Uploading Sky Image from:",r),fetch(r).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e)})).then((function(r){var n=E._PH_CreateTexture(t.Context),o=r.width,a=r.height,i=Math.floor(Math.log2(Math.max(o,a)));e.bindTexture(e.TEXTURE_2D,t.GL.textures[n]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texStorage2D(e.TEXTURE_2D,i,e.SRGB8_ALPHA8,o,a),e.texSubImage2D(e.TEXTURE_2D,0,0,0,o,a,e.RGBA,e.UNSIGNED_BYTE,r),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null),E._PH_SetEnvironmentMapTexture(t.Context,n)})).catch((function(e){console.error(e)}))},this.RotateCamera=function(e,r){E._PH_RotateCamera(this.Context,e,r)}}var D=function(){var e="file:///C:/Users/Billy/Desktop/GitLab/websiteagkarnext/components/viewer_deps/phasmaviewer.js";return function(r){var n,o,a=function(e,r,t){for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.buffer&&we)return we.decode(e.subarray(r,o));for(var a="";r<o;){var i=e[r++];if(128&i){var u=63&e[r++];if(192!=(224&i)){var s=63&e[r++];if((i=224==(240&i)?(15&i)<<12|u<<6|s:(7&i)<<18|u<<12|s<<6|63&e[r++])<65536)a+=String.fromCharCode(i);else{var f=i-65536;a+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else a+=String.fromCharCode((31&i)<<6|u)}else a+=String.fromCharCode(i)}return a},i=function(e,r){return e?a(ie,e,r):""},u=function(e,r,t,n){if(!(n>0))return 0;for(var o=t,a=t+n-1,i=0;i<e.length;++i){var u=e.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&e.charCodeAt(++i);if(u<=127){if(t>=a)break;r[t++]=u}else if(u<=2047){if(t+1>=a)break;r[t++]=192|u>>6,r[t++]=128|63&u}else if(u<=65535){if(t+2>=a)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|63&u}else{if(t+3>=a)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|63&u}}return r[t]=0,t-o},s=function(e,r,t){return u(e,ie,r,t)},f=function(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},c=function(e){oe=e,O.HEAP8=ae=new Int8Array(e),O.HEAP16=ue=new Int16Array(e),O.HEAP32=fe=new Int32Array(e),O.HEAPU8=ie=new Uint8Array(e),O.HEAPU16=se=new Uint16Array(e),O.HEAPU32=ce=new Uint32Array(e),O.HEAPF32=le=new Float32Array(e),O.HEAPF64=de=new Float64Array(e)},l=function(e){_e.unshift(e)},d=function(e){be.unshift(e)},m=function(e){xe++,O.monitorRunDependencies&&O.monitorRunDependencies(xe)},h=function(e){if(xe--,O.monitorRunDependencies&&O.monitorRunDependencies(xe),0==xe&&(null!==ke&&(clearInterval(ke),ke=null),Pe)){var r=Pe;Pe=null,r()}},g=function(e){O.onAbort&&O.onAbort(e),re(e="Aborted("+e+")"),ye=!0,ne=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw o(r),r},v=function(e){return e.startsWith(Se)},w=function(e){try{if(e==pe&&$)return new Uint8Array($);if(X)return X(e);throw"both async and sync fetching of the wasm failed"}catch(r){g(r)}},_=function(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e},E=function(e){for(;e.length>0;)e.shift()(O)},b=function(e,r,t){var n=t>0?t:f(e)+1,o=new Array(n),a=u(e,o,0,o.length);return r&&(o.length=a),o},x=function(e){g()},k=function(e,r,t,n){var o=n?"":"al "+e;V(e,(function(t){var n;n='Loading data file "'+e+'" failed (no arrayBuffer).',t||g(n),r(new Uint8Array(t)),o&&h()}),(function(r){if(!t)throw'Loading data file "'+e+'" failed.';t()})),o&&m()},P=function(e,r,t){var n=function(e,r){var t;for(Fe.length=0,r>>=2;t=ie[e++];)r+=105!=t&r,Fe.push(105==t?fe[r]:de[r++>>1]),++r;return Fe}(r,t);return Be[e].apply(null,n)},S=function(e){try{return te.grow(e-oe.byteLength+65535>>>16),c(te.buffer),1}catch(r){}},B=function(e){if(!ye)try{e()}catch(r){!function(e){if(p(e,_)||"unwind"==e)return ne;Q(1,e)}(r)}},A=function(e){var r=je[e];return r||(e>=je.length&&(je.length=e+1),je[e]=r=me.get(e)),r},D=function(e,r,t,n){for(var o=0;o<e;o++){var a=Ne[t](),i=a&&ze.getNewId(n);a?(a.name=i,n[i]=a):ze.recordError(1282),fe[r+4*o>>2]=i}},T=function(e,r,t){if(r){var n,o,a=void 0;switch(e){case 36346:a=1;break;case 36344:return;case 34814:case 36345:a=0;break;case 34466:var i=Ne.getParameter(34467);a=i?i.length:0;break;case 33309:a=2*(Ne.getSupportedExtensions()||[]).length;break;case 33307:case 33308:a=33307==e?3:0}if(void 0===a){var u=Ne.getParameter(e);switch("undefined"===typeof u?"undefined":y(u)){case"number":a=u;break;case"boolean":a=u?1:0;break;case"string":return void ze.recordError(1280);case"object":if(null===u)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:a=0;break;default:return void ze.recordError(1280)}else{if(p(u,Float32Array)||p(u,Uint32Array)||p(u,Int32Array)||p(u,Array)){for(var s=0;s<u.length;++s)switch(t){case 0:fe[r+4*s>>2]=u[s];break;case 2:le[r+4*s>>2]=u[s];break;case 4:ae[r+s>>0]=u[s]?1:0}return}a=0|u.name}}}switch(t){case 1:o=a,ce[(n=r)>>2]=o,ce[n+4>>2]=(o-ce[n>>2])/4294967296;break;case 0:fe[r>>2]=a;break;case 2:le[r>>2]=a;break;case 4:ae[r>>0]=a?1:0}}else ze.recordError(1281)},M=function(e){var r=f(e)+1,t=Ke(r);return s(e,t,r),t},R=function(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")},C=function(e){return 0==(e-=5120)?ae:1==e?ie:2==e?ue:4==e?fe:6==e?le:5==e||28922==e||28520==e||30779==e||30782==e?ce:se},F=function(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)},L=function(e){var r=Ne.currentProgram,t=r.uniformLocsById[e];return"number"==typeof t&&(r.uniformLocsById[e]=t=Ne.getUniformLocation(r,r.uniformArrayNamesById[e]+(t>0?"["+t+"]":""))),t},I=function(e){return e%4===0&&(e%100!==0||e%400===0)},j=function(e,r){ae.set(e,r)},H=function(e,r,t,n){var o=fe[n+40>>2],a={tm_sec:fe[n>>2],tm_min:fe[n+4>>2],tm_hour:fe[n+8>>2],tm_mday:fe[n+12>>2],tm_mon:fe[n+16>>2],tm_year:fe[n+20>>2],tm_wday:fe[n+24>>2],tm_yday:fe[n+28>>2],tm_isdst:fe[n+32>>2],tm_gmtoff:fe[n+36>>2],tm_zone:o?i(o):""},u=i(t),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in s)u=u.replace(new RegExp(f,"g"),s[f]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,r,t){for(var n="number"==typeof e?e.toString():e||"";n.length<r;)n=t[0]+n;return n}function m(e,r){return d(e,r,"0")}function p(e,r){function t(e){return e<0?-1:e>0?1:0}var n;return 0===(n=t(e.getFullYear()-r.getFullYear()))&&0===(n=t(e.getMonth()-r.getMonth()))&&(n=t(e.getDate()-r.getDate())),n}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function g(e){var r=function(e,r){for(var t=new Date(e.getTime());r>0;){var n=I(t.getFullYear()),o=t.getMonth(),a=(n?Ge:Ve)[o];if(!(r>a-t.getDate()))return t.setDate(t.getDate()+r),t;r-=a-t.getDate()+1,t.setDate(1),o<11?t.setMonth(o+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}(new Date(e.tm_year+1900,0,1),e.tm_yday),t=new Date(r.getFullYear(),0,4),n=new Date(r.getFullYear()+1,0,4),o=h(t),a=h(n);return p(o,r)<=0?p(a,r)<=0?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var v={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return m((e.tm_year+1900)/100|0,2)},"%d":function(e){return m(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return g(e).toString().substring(2)},"%G":function(e){return g(e)},"%H":function(e){return m(e.tm_hour,2)},"%I":function(e){var r=e.tm_hour;return 0==r?r=12:r>12&&(r-=12),m(r,2)},"%j":function(e){return m(e.tm_mday+function(e,r){for(var t=0,n=0;n<=r;t+=e[n++]);return t}(I(e.tm_year+1900)?Ge:Ve,e.tm_mon-1),3)},"%m":function(e){return m(e.tm_mon+1,2)},"%M":function(e){return m(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return m(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var r=e.tm_yday+7-e.tm_wday;return m(Math.floor(r/7),2)},"%V":function(e){var r=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&r++,r){if(53==r){var t=(e.tm_wday+371-e.tm_yday)%7;4==t||3==t&&I(e.tm_year)||(r=1)}}else{r=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&I(e.tm_year%400-1))&&r++}return m(r,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var r=e.tm_yday+7-(e.tm_wday+6)%7;return m(Math.floor(r/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var r=e.tm_gmtoff,t=r>=0;return r=(r=Math.abs(r)/60)/60*100+r%60,(t?"+":"-")+String("0000"+r).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var f in u=u.replace(/%%/g,"\0\0"),v)u.includes(f)&&(u=u.replace(new RegExp(f,"g"),v[f](a)));u=u.replace(/\0\0/g,"%");var y=b(u,!1);return y.length>r?0:(j(y,e),y.length-1)},U=function(e){return O["_"+e]},N=function(e,r,t,n,o){var a={string:function(e){var r=0;if(null!==e&&void 0!==e&&0!==e){var t=1+(e.length<<2);r=tr(t),s(e,r,t)}return r},array:function(e){var r=tr(e.length);return j(e,r),r}};var u=U(e),f=[],c=0;if(n)for(var l=0;l<n.length;l++){var d=a[t[l]];d?(0===c&&(c=er()),f[l]=d(n[l])):f[l]=n[l]}var m,p=u.apply(null,f);return m=p,0!==c&&rr(c),p=function(e){return"string"===r?i(e):"boolean"===r?Boolean(e):e}(m),p},z=function(e){function r(){Qe||(Qe=!0,O.calledRun=!0,ye||(!0,O.noFSInit||Re.init.initialized||Re.init(),Re.ignorePermissions=!1,Te.init(),E(Ee),n(O),O.onRuntimeInitialized&&O.onRuntimeInitialized(),function(){if(O.postRun)for("function"==typeof O.postRun&&(O.postRun=[O.postRun]);O.postRun.length;)d(O.postRun.shift());E(be)}()))}e=e||Y,xe>0||(!function(){if(O.preRun)for("function"==typeof O.preRun&&(O.preRun=[O.preRun]);O.preRun.length;)l(O.preRun.shift());E(_e)}(),xe>0||(O.setStatus?(O.setStatus("Running..."),setTimeout((function(){setTimeout((function(){O.setStatus("")}),1),r()}),1)):r()))},O="undefined"!=typeof(r=r||{})?r:{};O.ready=new Promise((function(e,r){n=e,o=r})),O={test321:function(){console.error("My test")},testakos:function(){console.error("My test2")},print:function(e){console.log(e)}};var G,V,X,W=Object.assign({},O),Y=[],q="./this.program",Q=function(e,r){throw r},Z=!0,J=!1,K="";(Z||J)&&(J?K=self.location.href:"undefined"!=typeof document&&document.currentScript&&(K=document.currentScript.src),K=0!==(K=e).indexOf("blob:")?K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1):"",G=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},J&&(X=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),V=function(e,r,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?r(n.response):t()},n.onerror=t,n.send(null)});var $,ee=O.print||console.log.bind(console),re=O.printErr||console.warn.bind(console);Object.assign(O,W),W=null,O.arguments&&(Y=O.arguments),O.thisProgram&&(q=O.thisProgram),O.quit&&(Q=O.quit),O.wasmBinary&&($=O.wasmBinary);var te;O.noExitRuntime;"object"!=typeof WebAssembly&&g("no native wasm support detected");var ne,oe,ae,ie,ue,se,fe,ce,le,de,me,pe,he,ge,ve,ye=!1,we="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,_e=(O.INITIAL_MEMORY,[]),Ee=[],be=[],xe=0,ke=null,Pe=null,Se="data:application/octet-stream;base64,";O.locateFile?v(pe="phasmaviewer.wasm")||(he=pe,pe=O.locateFile?O.locateFile(he,K):K+he):pe=new t.U(t(9111)).toString();var Be={91516:function(e){console.error("Critical: ",i(e))},91567:function(e){console.log("Warn: ",i(e))},91612:function(e,r){console.log("Engine: "+i(e),i(r))},91678:function(e,r){var t=window[i(e)][i(r)];return M(t)},91769:function(e){console.log("Got Texture: ",e)},91807:function(e,r){console.log("Engine: "+i(e),r)},91859:function(e){console.log("Info: ",i(e))},91904:function(e){console.error("Error: ",i(e))}},Ae={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r=Ae.isAbs(e),t="/"===e.substr(-1);return(e=Ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Ae.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=Ae.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments);return Ae.normalize(e.join("/"))},join2:function(e,r){return Ae.normalize(e+"/"+r)}},De={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:Re.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=Ae.isAbs(n)}return(r?"/":"")+(e=Ae.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){var t=function(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)};e=De.resolve(e).substr(1),r=De.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),i=a,u=0;u<a;u++)if(n[u]!==o[u]){i=u;break}var s=[];for(u=i;u<n.length;u++)s.push("..");return(s=s.concat(o.slice(i))).join("/")}},Te={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){Te.ttys[e]={input:[],output:[],ops:r},Re.registerDevice(e,Te.stream_ops)},stream_ops:{open:function(e){var r=Te.ttys[e.node.rdev];if(!r)throw new Re.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new Re.ErrnoError(60);for(var a=0,i=0;i<n;i++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(s){throw new Re.ErrnoError(29)}if(void 0===u&&0===a)throw new Re.ErrnoError(6);if(null===u||void 0===u)break;a++,r[t+i]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new Re.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(i){throw new Re.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=b(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(ee(a(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},fsync:function(e){e.output&&e.output.length>0&&(ee(a(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(re(a(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},fsync:function(e){e.output&&e.output.length>0&&(re(a(e.output,0)),e.output=[])}}},Me={ops_table:null,mount:function(e){return Me.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(Re.isBlkdev(t)||Re.isFIFO(t))throw new Re.ErrnoError(63);Me.ops_table||(Me.ops_table={dir:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr,lookup:Me.node_ops.lookup,mknod:Me.node_ops.mknod,rename:Me.node_ops.rename,unlink:Me.node_ops.unlink,rmdir:Me.node_ops.rmdir,readdir:Me.node_ops.readdir,symlink:Me.node_ops.symlink},stream:{llseek:Me.stream_ops.llseek}},file:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr},stream:{llseek:Me.stream_ops.llseek,read:Me.stream_ops.read,write:Me.stream_ops.write,allocate:Me.stream_ops.allocate,mmap:Me.stream_ops.mmap,msync:Me.stream_ops.msync}},link:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr,readlink:Me.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr},stream:Re.chrdev_stream_ops}});var o=Re.createNode(e,r,t,n);return Re.isDir(o.mode)?(o.node_ops=Me.ops_table.dir.node,o.stream_ops=Me.ops_table.dir.stream,o.contents={}):Re.isFile(o.mode)?(o.node_ops=Me.ops_table.file.node,o.stream_ops=Me.ops_table.file.stream,o.usedBytes=0,o.contents=null):Re.isLink(o.mode)?(o.node_ops=Me.ops_table.link.node,o.stream_ops=Me.ops_table.link.stream):Re.isChrdev(o.mode)&&(o.node_ops=Me.ops_table.chrdev.node,o.stream_ops=Me.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Re.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Re.isDir(e.mode)?r.size=4096:Re.isFile(e.mode)?r.size=e.usedBytes:Re.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&Me.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Re.genericErrors[44]},mknod:function(e,r,t,n){return Me.createNode(e,r,t,n)},rename:function(e,r,t){if(Re.isDir(e.mode)){var n;try{n=Re.lookupNode(r,t)}catch(a){}if(n)for(var o in n.contents)throw new Re.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=Re.lookupNode(e,r);for(var n in t.contents)throw new Re.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=Me.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!Re.isLink(e.mode))throw new Re.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(i>8&&a.subarray)r.set(a.subarray(o,o+i),t);else for(var u=0;u<i;u++)r[t+u]=a[o+u];return i},write:function(e,r,t,n,o,a){if(r.buffer===ae.buffer&&(a=!1),!n)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=r.subarray(t,t+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===o)return i.contents=r.slice(t,t+n),i.usedBytes=n,n;if(o+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),o),n}if(Me.expandFileStorage(i,o+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),o);else for(var u=0;u<n;u++)i.contents[o+u]=r[t+u];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&Re.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Re.ErrnoError(28);return n},allocate:function(e,r,t){Me.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o){if(!Re.isFile(e.node.mode))throw new Re.ErrnoError(43);var a,i,u=e.node.contents;if(2&o||u.buffer!==oe){if((t>0||t+r<u.length)&&(u=u.subarray?u.subarray(t,t+r):Array.prototype.slice.call(u,t,t+r)),i=!0,!(a=x()))throw new Re.ErrnoError(48);ae.set(u,a)}else i=!1,a=u.byteOffset;return{ptr:a,allocated:i}},msync:function(e,r,t,n,o){return Me.stream_ops.write(e,r,0,n,t,!1),0}}},Re={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=De.resolve(e)))return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if((r=Object.assign(t,r)).recurse_count>8)throw new Re.ErrnoError(32);for(var n=e.split("/").filter((function(e){return!!e})),o=Re.root,a="/",i=0;i<n.length;i++){var u=i===n.length-1;if(u&&r.parent)break;if(o=Re.lookupNode(o,n[i]),a=Ae.join2(a,n[i]),Re.isMountpoint(o)&&(!u||u&&r.follow_mount)&&(o=o.mounted.root),!u||r.follow)for(var s=0;Re.isLink(o.mode);){var f=Re.readlink(a);a=De.resolve(Ae.dirname(a),f);var c=Re.lookupPath(a,{recurse_count:r.recurse_count+1});if(o=c.node,s++>40)throw new Re.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var r;;){if(Re.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%Re.nameTable.length},hashAddNode:function(e){var r=Re.hashName(e.parent.id,e.name);e.name_next=Re.nameTable[r],Re.nameTable[r]=e},hashRemoveNode:function(e){var r=Re.hashName(e.parent.id,e.name);if(Re.nameTable[r]===e)Re.nameTable[r]=e.name_next;else for(var t=Re.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=Re.mayLookup(e);if(t)throw new Re.ErrnoError(t,e);for(var n=Re.hashName(e.id,r),o=Re.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===r)return o}return Re.lookup(e,r)},createNode:function(e,r,t,n){var o=new Re.FSNode(e,r,t,n);return Re.hashAddNode(o),o},destroyNode:function(e){Re.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=Re.flagModes[e];if("undefined"==typeof r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Re.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var r=Re.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{Re.lookupNode(e,r);return 20}catch(t){}return Re.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=Re.lookupNode(e,r)}catch(a){return a.errno}var o=Re.nodePermissions(e,"wx");if(o)return o;if(t){if(!Re.isDir(n.mode))return 54;if(Re.isRoot(n)||Re.getPath(n)===Re.cwd())return 10}else if(Re.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?Re.isLink(e.mode)?32:Re.isDir(e.mode)&&("r"!==Re.flagsToPermissionString(r)||512&r)?31:Re.nodePermissions(e,Re.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.MAX_OPEN_FDS,t=e;t<=r;t++)if(!Re.streams[t])return t;throw new Re.ErrnoError(33)},getStream:function(e){return Re.streams[e]},createStream:function(e,r,t){Re.FSStream||(Re.FSStream=function(){this.shared={}},Re.FSStream.prototype={},Object.defineProperties(Re.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Re.FSStream,e);var n=Re.nextfd(r,t);return e.fd=n,Re.streams[n]=e,e},closeStream:function(e){Re.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Re.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Re.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Re.devices[e]={stream_ops:r}},getDevice:function(e){return Re.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(e,r){var t=function(e){return Re.syncFSRequests--,r(e)};"function"==typeof e&&(r=e,e=!1),Re.syncFSRequests++,Re.syncFSRequests>1&&re("warning: "+Re.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Re.getMounts(Re.root.mount),o=0;function a(e){if(e)return a.errored?void 0:(a.errored=!0,t(e));++o>=n.length&&t(null)}n.forEach((function(r){if(!r.type.syncfs)return a(null);r.type.syncfs(r,e,a)}))},mount:function(e,r,t){var n,o="/"===t,a=!t;if(o&&Re.root)throw new Re.ErrnoError(10);if(!o&&!a){var i=Re.lookupPath(t,{follow_mount:!1});if(t=i.path,n=i.node,Re.isMountpoint(n))throw new Re.ErrnoError(10);if(!Re.isDir(n.mode))throw new Re.ErrnoError(54)}var u={type:e,opts:r,mountpoint:t,mounts:[]},s=e.mount(u);return s.mount=u,u.root=s,o?Re.root=s:n&&(n.mounted=u,n.mount&&n.mount.mounts.push(u)),s},unmount:function(e){var r=Re.lookupPath(e,{follow_mount:!1});if(!Re.isMountpoint(r.node))throw new Re.ErrnoError(28);var t=r.node,n=t.mounted,o=Re.getMounts(n);Object.keys(Re.nameTable).forEach((function(e){for(var r=Re.nameTable[e];r;){var t=r.name_next;o.includes(r.mount)&&Re.destroyNode(r),r=t}})),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=Re.lookupPath(e,{parent:!0}).node,o=Ae.basename(e);if(!o||"."===o||".."===o)throw new Re.ErrnoError(28);var a=Re.mayCreate(n,o);if(a)throw new Re.ErrnoError(a);if(!n.node_ops.mknod)throw new Re.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Re.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Re.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{Re.mkdir(n,r)}catch(a){if(20!=a.errno)throw a}}},mkdev:function(e,r,t){return"undefined"==typeof t&&(t=r,r=438),r|=8192,Re.mknod(e,r,t)},symlink:function(e,r){if(!De.resolve(e))throw new Re.ErrnoError(44);var t=Re.lookupPath(r,{parent:!0}).node;if(!t)throw new Re.ErrnoError(44);var n=Ae.basename(r),o=Re.mayCreate(t,n);if(o)throw new Re.ErrnoError(o);if(!t.node_ops.symlink)throw new Re.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(e,r){var t,n,o=Ae.dirname(e),a=Ae.dirname(r),i=Ae.basename(e),u=Ae.basename(r);if(t=Re.lookupPath(e,{parent:!0}).node,n=Re.lookupPath(r,{parent:!0}).node,!t||!n)throw new Re.ErrnoError(44);if(t.mount!==n.mount)throw new Re.ErrnoError(75);var s,f=Re.lookupNode(t,i),c=De.relative(e,a);if("."!==c.charAt(0))throw new Re.ErrnoError(28);if("."!==(c=De.relative(r,o)).charAt(0))throw new Re.ErrnoError(55);try{s=Re.lookupNode(n,u)}catch(m){}if(f!==s){var l=Re.isDir(f.mode),d=Re.mayDelete(t,i,l);if(d)throw new Re.ErrnoError(d);if(d=s?Re.mayDelete(n,u,l):Re.mayCreate(n,u))throw new Re.ErrnoError(d);if(!t.node_ops.rename)throw new Re.ErrnoError(63);if(Re.isMountpoint(f)||s&&Re.isMountpoint(s))throw new Re.ErrnoError(10);if(n!==t&&(d=Re.nodePermissions(t,"w")))throw new Re.ErrnoError(d);Re.hashRemoveNode(f);try{t.node_ops.rename(f,n,u)}catch(p){throw p}finally{Re.hashAddNode(f)}}},rmdir:function(e){var r=Re.lookupPath(e,{parent:!0}).node,t=Ae.basename(e),n=Re.lookupNode(r,t),o=Re.mayDelete(r,t,!0);if(o)throw new Re.ErrnoError(o);if(!r.node_ops.rmdir)throw new Re.ErrnoError(63);if(Re.isMountpoint(n))throw new Re.ErrnoError(10);r.node_ops.rmdir(r,t),Re.destroyNode(n)},readdir:function(e){var r=Re.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Re.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var r=Re.lookupPath(e,{parent:!0}).node;if(!r)throw new Re.ErrnoError(44);var t=Ae.basename(e),n=Re.lookupNode(r,t),o=Re.mayDelete(r,t,!1);if(o)throw new Re.ErrnoError(o);if(!r.node_ops.unlink)throw new Re.ErrnoError(63);if(Re.isMountpoint(n))throw new Re.ErrnoError(10);r.node_ops.unlink(r,t),Re.destroyNode(n)},readlink:function(e){var r=Re.lookupPath(e).node;if(!r)throw new Re.ErrnoError(44);if(!r.node_ops.readlink)throw new Re.ErrnoError(28);return De.resolve(Re.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var t=Re.lookupPath(e,{follow:!r}).node;if(!t)throw new Re.ErrnoError(44);if(!t.node_ops.getattr)throw new Re.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return Re.stat(e,!0)},chmod:function(e,r,t){var n;"string"==typeof e?n=Re.lookupPath(e,{follow:!t}).node:n=e;if(!n.node_ops.setattr)throw new Re.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,r){Re.chmod(e,r,!0)},fchmod:function(e,r){var t=Re.getStream(e);if(!t)throw new Re.ErrnoError(8);Re.chmod(t.node,r)},chown:function(e,r,t,n){var o;"string"==typeof e?o=Re.lookupPath(e,{follow:!n}).node:o=e;if(!o.node_ops.setattr)throw new Re.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,t){Re.chown(e,r,t,!0)},fchown:function(e,r,t){var n=Re.getStream(e);if(!n)throw new Re.ErrnoError(8);Re.chown(n.node,r,t)},truncate:function(e,r){if(r<0)throw new Re.ErrnoError(28);var t;"string"==typeof e?t=Re.lookupPath(e,{follow:!0}).node:t=e;if(!t.node_ops.setattr)throw new Re.ErrnoError(63);if(Re.isDir(t.mode))throw new Re.ErrnoError(31);if(!Re.isFile(t.mode))throw new Re.ErrnoError(28);var n=Re.nodePermissions(t,"w");if(n)throw new Re.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var t=Re.getStream(e);if(!t)throw new Re.ErrnoError(8);if(0===(2097155&t.flags))throw new Re.ErrnoError(28);Re.truncate(t.node,r)},utime:function(e,r,t){var n=Re.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:function(e,r,t){if(""===e)throw new Re.ErrnoError(44);var n;if(t="undefined"==typeof t?438:t,t=64&(r="string"==typeof r?Re.modeStringToFlags(r):r)?4095&t|32768:0,"object"==typeof e)n=e;else{e=Ae.normalize(e);try{n=Re.lookupPath(e,{follow:!(131072&r)}).node}catch(u){}}var o=!1;if(64&r)if(n){if(128&r)throw new Re.ErrnoError(20)}else n=Re.mknod(e,t,0),o=!0;if(!n)throw new Re.ErrnoError(44);if(Re.isChrdev(n.mode)&&(r&=-513),65536&r&&!Re.isDir(n.mode))throw new Re.ErrnoError(54);if(!o){var a=Re.mayOpen(n,r);if(a)throw new Re.ErrnoError(a)}512&r&&!o&&Re.truncate(n,0),r&=-131713;var i=Re.createStream({node:n,path:Re.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return i.stream_ops.open&&i.stream_ops.open(i),!O.logReadFiles||1&r||(Re.readFiles||(Re.readFiles={}),e in Re.readFiles||(Re.readFiles[e]=1)),i},close:function(e){if(Re.isClosed(e))throw new Re.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{Re.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(Re.isClosed(e))throw new Re.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Re.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new Re.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,o){if(n<0||o<0)throw new Re.ErrnoError(28);if(Re.isClosed(e))throw new Re.ErrnoError(8);if(1===(2097155&e.flags))throw new Re.ErrnoError(8);if(Re.isDir(e.node.mode))throw new Re.ErrnoError(31);if(!e.stream_ops.read)throw new Re.ErrnoError(28);var a="undefined"!=typeof o;if(a){if(!e.seekable)throw new Re.ErrnoError(70)}else o=e.position;var i=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=i),i},write:function(e,r,t,n,o,a){if(n<0||o<0)throw new Re.ErrnoError(28);if(Re.isClosed(e))throw new Re.ErrnoError(8);if(0===(2097155&e.flags))throw new Re.ErrnoError(8);if(Re.isDir(e.node.mode))throw new Re.ErrnoError(31);if(!e.stream_ops.write)throw new Re.ErrnoError(28);e.seekable&&1024&e.flags&&Re.llseek(e,0,2);var i="undefined"!=typeof o;if(i){if(!e.seekable)throw new Re.ErrnoError(70)}else o=e.position;var u=e.stream_ops.write(e,r,t,n,o,a);return i||(e.position+=u),u},allocate:function(e,r,t){if(Re.isClosed(e))throw new Re.ErrnoError(8);if(r<0||t<=0)throw new Re.ErrnoError(28);if(0===(2097155&e.flags))throw new Re.ErrnoError(8);if(!Re.isFile(e.node.mode)&&!Re.isDir(e.node.mode))throw new Re.ErrnoError(43);if(!e.stream_ops.allocate)throw new Re.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,o){if(0!==(2&n)&&0===(2&o)&&2!==(2097155&e.flags))throw new Re.ErrnoError(2);if(1===(2097155&e.flags))throw new Re.ErrnoError(2);if(!e.stream_ops.mmap)throw new Re.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o)},msync:function(e,r,t,n,o){return e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new Re.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n=Re.open(e,t.flags),o=Re.stat(e),i=o.size,u=new Uint8Array(i);return Re.read(n,u,0,i,0),"utf8"===t.encoding?r=a(u,0):"binary"===t.encoding&&(r=u),Re.close(n),r},writeFile:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.flags=t.flags||577;var n=Re.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(f(r)+1),a=u(r,o,0,o.length);Re.write(n,o,0,a,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Re.write(n,r,0,r.byteLength,void 0,t.canOwn)}Re.close(n)},cwd:function(){return Re.currentPath},chdir:function(e){var r=Re.lookupPath(e,{follow:!0});if(null===r.node)throw new Re.ErrnoError(44);if(!Re.isDir(r.node.mode))throw new Re.ErrnoError(54);var t=Re.nodePermissions(r.node,"x");if(t)throw new Re.ErrnoError(t);Re.currentPath=r.path},createDefaultDirectories:function(){Re.mkdir("/tmp"),Re.mkdir("/home"),Re.mkdir("/home/web_user")},createDefaultDevices:function(){Re.mkdir("/dev"),Re.registerDevice(Re.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,o){return n}}),Re.mkdev("/dev/null",Re.makedev(1,3)),Te.register(Re.makedev(5,0),Te.default_tty_ops),Te.register(Re.makedev(6,0),Te.default_tty1_ops),Re.mkdev("/dev/tty",Re.makedev(5,0)),Re.mkdev("/dev/tty1",Re.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){return g("randomDevice")}}();Re.createDevice("/dev","random",e),Re.createDevice("/dev","urandom",e),Re.mkdir("/dev/shm"),Re.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Re.mkdir("/proc");var e=Re.mkdir("/proc/self");Re.mkdir("/proc/self/fd"),Re.mount({mount:function(){var r=Re.createNode(e,"fd",16895,73);return r.node_ops={lookup:function(e,r){var t=+r,n=Re.getStream(t);if(!n)throw new Re.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:function(){O.stdin?Re.createDevice("/dev","stdin",O.stdin):Re.symlink("/dev/tty","/dev/stdin"),O.stdout?Re.createDevice("/dev","stdout",null,O.stdout):Re.symlink("/dev/tty","/dev/stdout"),O.stderr?Re.createDevice("/dev","stderr",null,O.stderr):Re.symlink("/dev/tty1","/dev/stderr");Re.open("/dev/stdin",0),Re.open("/dev/stdout",1),Re.open("/dev/stderr",1)},ensureErrnoError:function(){Re.ErrnoError||(Re.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Re.ErrnoError.prototype=new Error,Re.ErrnoError.prototype.constructor=Re.ErrnoError,[44].forEach((function(e){Re.genericErrors[e]=new Re.ErrnoError(e),Re.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Re.ensureErrnoError(),Re.nameTable=new Array(4096),Re.mount(Me,{},"/"),Re.createDefaultDirectories(),Re.createDefaultDevices(),Re.createSpecialDirectories(),Re.filesystems={MEMFS:Me}},init:function(e,r,t){Re.init.initialized=!0,Re.ensureErrnoError(),O.stdin=e||O.stdin,O.stdout=r||O.stdout,O.stderr=t||O.stderr,Re.createStandardStreams()},quit:function(){Re.init.initialized=!1;for(var e=0;e<Re.streams.length;e++){var r=Re.streams[e];r&&Re.close(r)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:function(e,r){var t=Re.analyzePath(e,r);return t.exists?t.object:null},analyzePath:function(e,r){try{e=(n=Re.lookupPath(e,{follow:!r})).path}catch(o){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Re.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=Ae.basename(e),n=Re.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(a){t.error=a.errno}return t},createPath:function(e,r,t,n){e="string"==typeof e?e:Re.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var i=Ae.join2(e,a);try{Re.mkdir(i)}catch(u){}e=i}}return i},createFile:function(e,r,t,n,o){var a=Ae.join2("string"==typeof e?e:Re.getPath(e),r),i=Re.getMode(n,o);return Re.create(a,i)},createDataFile:function(e,r,t,n,o,a){var i=r;e&&(e="string"==typeof e?e:Re.getPath(e),i=r?Ae.join2(e,r):e);var u=Re.getMode(n,o),s=Re.create(i,u);if(t){if("string"==typeof t){for(var f=new Array(t.length),c=0,l=t.length;c<l;++c)f[c]=t.charCodeAt(c);t=f}Re.chmod(s,146|u);var d=Re.open(s,577);Re.write(d,t,0,t.length,0,a),Re.close(d),Re.chmod(s,u)}return s},createDevice:function(e,r,t,n){var o=Ae.join2("string"==typeof e?e:Re.getPath(e),r),a=Re.getMode(!!t,!!n);Re.createDevice.major||(Re.createDevice.major=64);var i=Re.makedev(Re.createDevice.major++,0);return Re.registerDevice(i,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,r,n,o,a){for(var i=0,u=0;u<o;u++){var s;try{s=t()}catch(f){throw new Re.ErrnoError(29)}if(void 0===s&&0===i)throw new Re.ErrnoError(6);if(null===s||void 0===s)break;i++,r[n+u]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,o,a){for(var i=0;i<o;i++)try{n(r[t+i])}catch(u){throw new Re.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),i}}),Re.mkdev(o,a,i)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!G)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=b(G(e.url),!0),e.usedBytes=e.contents.length}catch(r){throw new Re.ErrnoError(29)}},createLazyFile:function(e,r,t,n,o){var a=function(){this.lengthKnown=!1,this.chunks=[]},i=function(e,r,t,n,o){var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var u=0;u<i;u++)r[t+u]=a[o+u];else for(u=0;u<i;u++)r[t+u]=a.get(o+u);return i};if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[r]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,n=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,a=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,i=1048576;o||(i=n);var u=this;u.setDataGetter((function(e){var r=e*i,o=(e+1)*i-1;if(o=Math.min(o,n-1),"undefined"==typeof u.chunks[e]&&(u.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",t,!1),n!==i&&o.setRequestHeader("Range","bytes="+e+"-"+r),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+t+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):b(o.responseText||"",!0)}(r,o)),"undefined"==typeof u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]})),!a&&n||(i=n=1,n=this.getter(0).length,i=n,ee("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=i,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!J)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var u=new a;Object.defineProperties(u,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:u}}else s={isDevice:!1,url:t};var f=Re.createFile(e,r,s,n,o);s.contents?f.contents=s.contents:s.url&&(f.contents=null,f.url=s.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(f.stream_ops).forEach((function(e){var r=f.stream_ops[e];c[e]=function(){return Re.forceLoadFile(f),r.apply(null,arguments)}})),c.read=function(e,r,t,n,o){return Re.forceLoadFile(f),i(e,r,t,n,o)},c.mmap=function(e,r,t,n,o){Re.forceLoadFile(f);var a=x();if(!a)throw new Re.ErrnoError(48);return i(e,ae,a,r,t),{ptr:a,allocated:!0}},f.stream_ops=c,f},createPreloadedFile:function(e,r,t,n,o,a,i,u,s,f){var c=function(t){function c(t){f&&f(),u||Re.createDataFile(e,r,t,n,o,s),a&&a(),h()}Browser.handledByPreloadPlugin(t,l,c,(function(){i&&i(),h()}))||c(t)},l=r?De.resolve(Ae.join2(e,r)):e;m(),"string"==typeof t?k(t,(function(e){return c(e)}),i):c(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Re.indexedDB();try{var o=n.open(Re.DB_NAME(),Re.DB_VERSION)}catch(a){return t(a)}o.onupgradeneeded=function(){ee("creating db"),o.result.createObjectStore(Re.DB_STORE_NAME)},o.onsuccess=function(){var n=function(){0==s?r():t()},a=o.result.transaction([Re.DB_STORE_NAME],"readwrite"),i=a.objectStore(Re.DB_STORE_NAME),u=0,s=0,f=e.length;e.forEach((function(e){var r=i.put(Re.analyzePath(e).object.contents,e);r.onsuccess=function(){++u+s==f&&n()},r.onerror=function(){s++,u+s==f&&n()}})),a.onerror=t},o.onerror=t},loadFilesFromDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Re.indexedDB();try{var o=n.open(Re.DB_NAME(),Re.DB_VERSION)}catch(a){return t(a)}o.onupgradeneeded=t,o.onsuccess=function(){var n=function(){0==f?r():t()},a=o.result;try{var i=a.transaction([Re.DB_STORE_NAME],"readonly")}catch(l){return void t(l)}var u=i.objectStore(Re.DB_STORE_NAME),s=0,f=0,c=e.length;e.forEach((function(e){var r=u.get(e);r.onsuccess=function(){Re.analyzePath(e).exists&&Re.unlink(e),Re.createDataFile(Ae.dirname(e),Ae.basename(e),r.result,!0,!0,!0),++s+f==c&&n()},r.onerror=function(){f++,s+f==c&&n()}})),i.onerror=t},o.onerror=t}},Ce={DEFAULT_POLLMASK:5,calculateAt:function(e,r,t){if(Ae.isAbs(r))return r;var n;-100===e?n=Re.cwd():n=Ce.getStreamFromFD(e).path;if(0==r.length){if(!t)throw new Re.ErrnoError(44);return n}return Ae.join2(n,r)},doStat:function(e,r,t){try{var n=e(r)}catch(o){if(o&&o.node&&Ae.normalize(r)!==Ae.normalize(Re.getPath(o.node)))return-54;throw o}return fe[t>>2]=n.dev,fe[t+8>>2]=n.ino,fe[t+12>>2]=n.mode,ce[t+16>>2]=n.nlink,fe[t+20>>2]=n.uid,fe[t+24>>2]=n.gid,fe[t+28>>2]=n.rdev,ve=[n.size>>>0,(ge=n.size,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],fe[t+40>>2]=ve[0],fe[t+44>>2]=ve[1],fe[t+48>>2]=4096,fe[t+52>>2]=n.blocks,ve=[Math.floor(n.atime.getTime()/1e3)>>>0,(ge=Math.floor(n.atime.getTime()/1e3),+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],fe[t+56>>2]=ve[0],fe[t+60>>2]=ve[1],ce[t+64>>2]=0,ve=[Math.floor(n.mtime.getTime()/1e3)>>>0,(ge=Math.floor(n.mtime.getTime()/1e3),+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],fe[t+72>>2]=ve[0],fe[t+76>>2]=ve[1],ce[t+80>>2]=0,ve=[Math.floor(n.ctime.getTime()/1e3)>>>0,(ge=Math.floor(n.ctime.getTime()/1e3),+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],fe[t+88>>2]=ve[0],fe[t+92>>2]=ve[1],ce[t+96>>2]=0,ve=[n.ino>>>0,(ge=n.ino,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],fe[t+104>>2]=ve[0],fe[t+108>>2]=ve[1],0},doMsync:function(e,r,t,n,o){if(!Re.isFile(r.node.mode))throw new Re.ErrnoError(43);if(2&n)return 0;var a=ie.slice(e,e+t);Re.msync(r,a,o,t,n)},varargs:void 0,get:function(){return Ce.varargs+=4,fe[Ce.varargs-4>>2]},getStr:function(e){return i(e)},getStreamFromFD:function(e){var r=Re.getStream(e);if(!r)throw new Re.ErrnoError(8);return r}},Fe=[],Le=P,Ie={xhrs:{},setu64:function(e,r){ce[e>>2]=r,ce[e+4>>2]=r/4294967296|0},staticInit:function(){}},je=[],He={};function Ue(){if(!Ue.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:q||"./this.program"};for(var r in He)void 0===He[r]?delete e[r]:e[r]=He[r];var t=[];for(var r in e)t.push(r+"="+e[r]);Ue.strings=t}return Ue.strings}var Ne,ze={counter:1,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(e){},getNewId:function(e){for(var r=ze.counter++,t=e.length;t<r;t++)e[t]=null;return r},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(e){return 32-Math.clz32(0===e?0:e-1)},generateTempBuffers:function(e,r){var t=ze.log2ceilLookup(ze.MAX_TEMP_BUFFER_SIZE);r.tempVertexBufferCounters1=[],r.tempVertexBufferCounters2=[],r.tempVertexBufferCounters1.length=r.tempVertexBufferCounters2.length=t+1,r.tempVertexBuffers1=[],r.tempVertexBuffers2=[],r.tempVertexBuffers1.length=r.tempVertexBuffers2.length=t+1,r.tempIndexBuffers=[],r.tempIndexBuffers.length=t+1;for(var n=0;n<=t;++n){r.tempIndexBuffers[n]=null,r.tempVertexBufferCounters1[n]=r.tempVertexBufferCounters2[n]=0;var o=ze.numTempVertexBuffersPerSize;r.tempVertexBuffers1[n]=[],r.tempVertexBuffers2[n]=[];var a=r.tempVertexBuffers1[n],i=r.tempVertexBuffers2[n];a.length=i.length=o;for(var u=0;u<o;++u)a[u]=i[u]=null}if(e){r.tempQuadIndexBuffer=Ne.createBuffer(),r.GLctx.bindBuffer(34963,r.tempQuadIndexBuffer);for(var s=ze.MAX_TEMP_BUFFER_SIZE>>1,f=new Uint16Array(s),c=(n=0,0);f[n++]=c,!(n>=s)&&(f[n++]=c+1,!(n>=s))&&(f[n++]=c+2,!(n>=s))&&(f[n++]=c,!(n>=s))&&(f[n++]=c+2,!(n>=s))&&(f[n++]=c+3,!(n>=s));)c+=4;r.GLctx.bufferData(34963,f,35044),r.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function(e){var r=ze.log2ceilLookup(e),t=ze.currentContext.tempVertexBuffers1[r],n=ze.currentContext.tempVertexBufferCounters1[r];ze.currentContext.tempVertexBufferCounters1[r]=ze.currentContext.tempVertexBufferCounters1[r]+1&ze.numTempVertexBuffersPerSize-1;var o=t[n];if(o)return o;var a=Ne.getParameter(34964);return t[n]=Ne.createBuffer(),Ne.bindBuffer(34962,t[n]),Ne.bufferData(34962,1<<r,35048),Ne.bindBuffer(34962,a),t[n]},getTempIndexBuffer:function(e){var r=ze.log2ceilLookup(e),t=ze.currentContext.tempIndexBuffers[r];if(t)return t;var n=Ne.getParameter(34965);return ze.currentContext.tempIndexBuffers[r]=Ne.createBuffer(),Ne.bindBuffer(34963,ze.currentContext.tempIndexBuffers[r]),Ne.bufferData(34963,1<<r,35048),Ne.bindBuffer(34963,n),ze.currentContext.tempIndexBuffers[r]},newRenderingFrameStarted:function(){if(ze.currentContext){var e=ze.currentContext.tempVertexBuffers1;ze.currentContext.tempVertexBuffers1=ze.currentContext.tempVertexBuffers2,ze.currentContext.tempVertexBuffers2=e,e=ze.currentContext.tempVertexBufferCounters1,ze.currentContext.tempVertexBufferCounters1=ze.currentContext.tempVertexBufferCounters2,ze.currentContext.tempVertexBufferCounters2=e;for(var r=ze.log2ceilLookup(ze.MAX_TEMP_BUFFER_SIZE),t=0;t<=r;++t)ze.currentContext.tempVertexBufferCounters1[t]=0}},getSource:function(e,r,t,n){for(var o="",a=0;a<r;++a){var u=n?fe[n+4*a>>2]:-1;o+=i(fe[t+4*a>>2],u<0?void 0:u)}return o},calcBufLength:function(e,r,t,n){return t>0?n*t:e*ze.byteSizeByType[r-ze.byteSizeByTypeRoot]*n},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function(e){ze.resetBufferBinding=!1;for(var r=0;r<ze.currentContext.maxVertexAttribs;++r){var t=ze.currentContext.clientBuffers[r];if(t.clientside&&t.enabled){ze.resetBufferBinding=!0;var n=ze.calcBufLength(t.size,t.type,t.stride,e),o=ze.getTempVertexBuffer(n);Ne.bindBuffer(34962,o),Ne.bufferSubData(34962,0,ie.subarray(t.ptr,t.ptr+n)),t.vertexAttribPointerAdaptor.call(Ne,r,t.size,t.type,t.normalized,t.stride,0)}}},postDrawHandleClientVertexAttribBindings:function(){ze.resetBufferBinding&&Ne.bindBuffer(34962,ze.buffers[Ne.currentArrayBufferBinding])},createContext:function(e,r){if(O.preinitializedWebGLContext){var t=O.preinitializedWebGLContext;r.majorVersion="undefined"!=typeof WebGL2RenderingContext&&p(t,WebGL2RenderingContext)?2:1}else{if(!e.getContextSafariWebGL2Fixed){e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(r,t){var n=e.getContextSafariWebGL2Fixed(r,t);return"webgl"==r==p(n,WebGLRenderingContext)?n:null}}t=e.getContext("webgl2",r)}return t?ze.registerContext(t,r):0},registerContext:function(e,r){var t=ze.getNewId(ze.contexts),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};e.canvas&&(e.canvas.GLctxObject=n),ze.contexts[t]=n,("undefined"==typeof r.enableExtensionsByDefault||r.enableExtensionsByDefault)&&ze.initExtensions(n),n.maxVertexAttribs=n.GLctx.getParameter(34921),n.clientBuffers=[];for(var o=0;o<n.maxVertexAttribs;o++)n.clientBuffers[o]={enabled:!1,clientside:!1,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null};return ze.generateTempBuffers(!1,n),t},makeContextCurrent:function(e){return ze.currentContext=ze.contexts[e],O.ctx=Ne=ze.currentContext&&ze.currentContext.GLctx,!(e&&!Ne)},getContext:function(e){return ze.contexts[e]},deleteContext:function(e){ze.currentContext===ze.contexts[e]&&(ze.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(ze.contexts[e].GLctx.canvas),ze.contexts[e]&&ze.contexts[e].GLctx.canvas&&(ze.contexts[e].GLctx.canvas.GLctxObject=void 0),ze.contexts[e]=null},initExtensions:function(e){if(e||(e=ze.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var r,t=e.GLctx;(r=t).dibvbi=r.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),function(e){e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")}(t),e.version>=2&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!t.disjointTimerQueryExt)&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query")),function(e){e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")}(t),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}},Oe=[],Ge=[31,29,31,30,31,30,31,31,30,31,30,31],Ve=[31,28,31,30,31,30,31,31,30,31,30,31],Xe=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Re.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},We=365,Ye=146;Object.defineProperties(Xe.prototype,{read:{get:function(){return(this.mode&We)===We},set:function(e){e?this.mode|=We:this.mode&=-366}},write:{get:function(){return(this.mode&Ye)===Ye},set:function(e){e?this.mode|=Ye:this.mode&=-147}},isFolder:{get:function(){return Re.isDir(this.mode)}},isDevice:{get:function(){return Re.isChrdev(this.mode)}}}),Re.FSNode=Xe,Re.staticInit(),O.FS_createPath=Re.createPath,O.FS_createDataFile=Re.createDataFile,O.FS_createPreloadedFile=Re.createPreloadedFile,O.FS_unlink=Re.unlink,O.FS_createLazyFile=Re.createLazyFile,O.FS_createDevice=Re.createDevice,Ie.staticInit();for(var qe=0;qe<32;++qe)Oe.push(new Array(qe));var Qe,Ze={a:function(e,r,t,n){g("Assertion failed: "+i(e)+", at: "+[r?i(r):"unknown filename",t,n?i(n):"unknown function"])},J:function(e,r,t){Ce.varargs=t;try{var n=Ce.getStreamFromFD(e);switch(r){case 0:return(o=Ce.get())<0?-28:Re.createStream(n,o).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:var o=Ce.get();return n.flags|=o,0;case 5:o=Ce.get();return ue[o+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return a=28,fe[$e()>>2]=a,-1}}catch(i){if("undefined"==typeof Re||!p(i,Re.ErrnoError))throw i;return-i.errno}var a},ia:function(e,r,t){Ce.varargs=t;try{var n=Ce.getStreamFromFD(e);switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Ce.get();return fe[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:o=Ce.get();return Re.ioctl(n,r,o);default:return-28}}catch(a){if("undefined"==typeof Re||!p(a,Re.ErrnoError))throw a;return-a.errno}},ja:function(e,r,t,n){Ce.varargs=n;try{r=Ce.getStr(r),r=Ce.calculateAt(e,r);var o=n?Ce.get():0;return Re.open(r,t,o).fd}catch(a){if("undefined"==typeof Re||!p(a,Re.ErrnoError))throw a;return-a.errno}},la:function(e){var r=Ie.xhrs[e];r&&(delete Ie.xhrs[e],r.readyState>0&&r.readyState<4&&r.abort())},oa:function(e){do{var r=ce[e>>2],t=ce[(e+=4)>>2],n=ce[(e+=4)>>2];e+=4;var o=i(r);Re.createPath("/",Ae.dirname(o),!0,!0),Re.createDataFile(o,null,ae.subarray(n,n+t),!0,!0,!0)}while(ce[e>>2])},b:function(){g("")},d:P,ga:Le,na:function(){return!J},ka:function(e,r,t){ie.copyWithin(e,r,r+t)},fa:function(e){var r=ie.length,t=2147483648;if((e>>>=0)>t)return!1;for(var n,o,a=1;a<=4;a*=2){var i=r*(1+.2/a);i=Math.min(i,e+100663296);var u=Math.min(t,(n=Math.max(e,i))+((o=65536)-n%o)%o);if(S(u))return!0}return!1},ma:function(e,r,t,n,o){var a=e+112,u=(i(a),ce[a+36>>2]),f=ce[a+40>>2],c=ce[a+44>>2],l=ce[a+48>>2],d=!!(64&ce[a+52>>2]);function m(e){d?e():B(e)}return function(e,r,t,n,o){var a=ce[e+8>>2];if(a){var u=i(a),f=e+112,c=i(f);c||(c="GET"),ce[e+4>>2];var l=ce[f+52>>2],d=ce[f+56>>2],m=!!ce[f+60>>2],p=(ce[f+64>>2],ce[f+68>>2]),h=ce[f+72>>2],g=ce[f+76>>2],v=ce[f+80>>2],y=ce[f+84>>2],w=ce[f+88>>2],_=!!(1&l),E=!!(2&l),b=!!(64&l),x=p?i(p):void 0,k=h?i(h):void 0,P=new XMLHttpRequest;if(P.withCredentials=m,P.open(c,u,!b,x,k),b||(P.timeout=d),P.url_=u,P.responseType="arraybuffer",v){var S=i(v);P.overrideMimeType(S)}if(g)for(;;){var B=ce[g>>2];if(!B)break;var A=ce[g+4>>2];if(!A)break;g+=8;var D=i(B),T=i(A);P.setRequestHeader(D,T)}var M=ce[e+0>>2];Ie.xhrs[M]=P;var R=y&&w?ie.slice(y,y+w):null;P.onload=function(n){M in Ie.xhrs&&(C(),P.status>=200&&P.status<300?r&&r(e,P,n):t&&t(e,P,n))},P.onerror=function(r){M in Ie.xhrs&&(C(),t&&t(e,P,r))},P.ontimeout=function(r){M in Ie.xhrs&&t&&t(e,P,r)},P.onprogress=function(r){if(M in Ie.xhrs){var t=_&&E&&P.response?P.response.byteLength:0,o=0;t>0&&_&&E&&(o=Ke(t),ie.set(new Uint8Array(P.response),o)),ce[e+12>>2]=o,Ie.setu64(e+16,t),Ie.setu64(e+24,r.loaded-t),Ie.setu64(e+32,r.total),se[e+40>>1]=P.readyState,P.readyState>=3&&0===P.status&&r.loaded>0&&(P.status=200),se[e+42>>1]=P.status,P.statusText&&s(P.statusText,e+44,64),n&&n(e,P,r),o&&Je(o)}},P.onreadystatechange=function(r){M in Ie.xhrs&&(se[e+40>>1]=P.readyState,P.readyState>=2&&(se[e+42>>1]=P.status),o&&o(e,P,r))};try{P.send(R)}catch(F){t&&t(e,P,F)}}else t(e,0,"no url specified!");function C(){var r=0,t=0;P.response&&_&&0===ce[e+12>>2]&&(t=P.response.byteLength),t>0&&(r=Ke(t),ie.set(new Uint8Array(P.response),r)),ce[e+12>>2]=r,Ie.setu64(e+16,t),Ie.setu64(e+24,0);var n=P.response?P.response.byteLength:0;n&&Ie.setu64(e+32,n),se[e+40>>1]=P.readyState,se[e+42>>1]=P.status,P.statusText&&s(P.statusText,e+44,64)}}(e,(function(e,t,n){m((function(){u?A(u)(e):r&&r(e)}))}),(function(e,r,n){m((function(){f?A(f)(e):t&&t(e)}))}),(function(e,r,t){m((function(){c?A(c)(e):n&&n(e)}))}),(function(e,r,t){m((function(){l?A(l)(e):o&&o(e)}))})),e},da:function(e,r){var t=0;return Ue().forEach((function(n,o){var a=r+t;ce[e+4*o>>2]=a,function(e,r,t){for(var n=0;n<e.length;++n)ae[r++>>0]=e.charCodeAt(n);t||(ae[r>>0]=0)}(n,a),t+=n.length+1})),0},ea:function(e,r){var t=Ue();ce[e>>2]=t.length;var n=0;return t.forEach((function(e){n+=e.length+1})),ce[r>>2]=n,0},H:function(e){try{var r=Ce.getStreamFromFD(e);return Re.close(r),0}catch(t){if("undefined"==typeof Re||!p(t,Re.ErrnoError))throw t;return t.errno}},ha:function(e,r,t,n){try{var o=function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=ce[r>>2],u=ce[r+4>>2];r+=8;var s=Re.read(e,ae,i,u,n);if(s<0)return-1;if(o+=s,s<u)break}return o}(Ce.getStreamFromFD(e),r,t);return ce[n>>2]=o,0}catch(a){if("undefined"==typeof Re||!p(a,Re.ErrnoError))throw a;return a.errno}},ba:function(e,r,t,n,o){try{var a=(s=t)+2097152>>>0<4194305-!!(u=r)?(u>>>0)+4294967296*s:NaN;if(isNaN(a))return 61;var i=Ce.getStreamFromFD(e);return Re.llseek(i,a,n),ve=[i.position>>>0,(ge=i.position,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],fe[o>>2]=ve[0],fe[o+4>>2]=ve[1],i.getdents&&0===a&&0===n&&(i.getdents=null),0}catch(f){if("undefined"==typeof Re||!p(f,Re.ErrnoError))throw f;return f.errno}var u,s},I:function(e,r,t,n){try{var o=function(e,r,t,n){for(var o=0,a=0;a<t;a++){var i=ce[r>>2],u=ce[r+4>>2];r+=8;var s=Re.write(e,ae,i,u,n);if(s<0)return-1;o+=s}return o}(Ce.getStreamFromFD(e),r,t);return ce[n>>2]=o,0}catch(a){if("undefined"==typeof Re||!p(a,Re.ErrnoError))throw a;return a.errno}},pa:function(e,r){var t=window[i(e)][i(r)],n=f(t)+1,o=Ke(n);return s(t,o,n),o},Pa:function(){var e=window.location.hostname,r=f(e)+1,t=Ke(r);return s(e,t,r),t},l:function(e){Ne.activeTexture(e)},Z:function(e,r){Ne.attachShader(ze.programs[e],ze.shaders[r])},Ma:function(e,r){Ne.beginQuery(e,ze.queries[r])},m:function(e,r){34962==e?Ne.currentArrayBufferBinding=r:34963==e&&(Ne.currentElementArrayBufferBinding=r),35051==e?Ne.currentPixelPackBufferBinding=r:35052==e&&(Ne.currentPixelUnpackBufferBinding=r),Ne.bindBuffer(e,ze.buffers[r])},P:function(e,r,t){Ne.bindBufferBase(e,r,ze.buffers[t])},c:function(e,r){Ne.bindFramebuffer(e,ze.framebuffers[r])},F:function(e,r){Ne.bindRenderbuffer(e,ze.renderbuffers[r])},f:function(e,r){Ne.bindTexture(e,ze.textures[r])},n:function(e){Ne.bindVertexArray(ze.vaos[e]);var r=Ne.getParameter(34965);Ne.currentElementArrayBufferBinding=r?0|r.name:0},xa:function(e,r){Ne.blendFunc(e,r)},qa:function(e,r,t,n,o,a,i,u,s,f){Ne.blitFramebuffer(e,r,t,n,o,a,i,u,s,f)},p:function(e,r,t,n){t&&r?Ne.bufferData(e,ie,n,t,r):Ne.bufferData(e,r,n)},ta:function(e,r,t,n){t&&Ne.bufferSubData(e,r,ie,n,t)},i:function(e){return Ne.checkFramebufferStatus(e)},k:function(e){Ne.clear(e)},O:function(e,r,t,n){Ne.clearColor(e,r,t,n)},ua:function(e){Ne.clearDepth(e)},_:function(e){Ne.compileShader(ze.shaders[e])},Ka:function(){var e=ze.getNewId(ze.programs),r=Ne.createProgram();return r.name=e,r.maxUniformLength=r.maxAttributeLength=r.maxUniformBlockNameLength=0,r.uniformIdCounter=1,ze.programs[e]=r,e},aa:function(e){var r=ze.getNewId(ze.shaders);return ze.shaders[r]=Ne.createShader(e),r},o:function(e,r){for(var t=0;t<e;t++){var n=fe[r+4*t>>2],o=ze.buffers[n];o&&(Ne.deleteBuffer(o),o.name=0,ze.buffers[n]=null,n==Ne.currentArrayBufferBinding&&(Ne.currentArrayBufferBinding=0),n==Ne.currentElementArrayBufferBinding&&(Ne.currentElementArrayBufferBinding=0),n==Ne.currentPixelPackBufferBinding&&(Ne.currentPixelPackBufferBinding=0),n==Ne.currentPixelUnpackBufferBinding&&(Ne.currentPixelUnpackBufferBinding=0))}},B:function(e,r){for(var t=0;t<e;++t){var n=fe[r+4*t>>2],o=ze.framebuffers[n];o&&(Ne.deleteFramebuffer(o),o.name=0,ze.framebuffers[n]=null)}},Ga:function(e){if(e){var r=ze.programs[e];r?(Ne.deleteProgram(r),r.name=0,ze.programs[e]=null):ze.recordError(1281)}},Oa:function(e,r){for(var t=0;t<e;t++){var n=fe[r+4*t>>2],o=ze.queries[n];o&&(Ne.deleteQuery(o),ze.queries[n]=null)}},C:function(e){if(e){var r=ze.shaders[e];r?(Ne.deleteShader(r),ze.shaders[e]=null):ze.recordError(1281)}},A:function(e,r){for(var t=0;t<e;t++){var n=fe[r+4*t>>2],o=ze.textures[n];o&&(Ne.deleteTexture(o),o.name=0,ze.textures[n]=null)}},v:function(e,r){for(var t=0;t<e;t++){var n=fe[r+4*t>>2];Ne.deleteVertexArray(ze.vaos[n]),ze.vaos[n]=null}},wa:function(e){Ne.depthFunc(e)},T:function(e){Ne.depthMask(!!e)},X:function(e,r){Ne.detachShader(ze.programs[e],ze.shaders[r])},w:function(e){Ne.disable(e)},j:function(e,r,t){ze.preDrawHandleClientVertexAttribBindings(r+t),Ne.drawArrays(e,r,t),ze.postDrawHandleClientVertexAttribBindings()},sa:function(e,r){for(var t=Oe[e],n=0;n<e;n++)t[n]=fe[r+4*n>>2];Ne.drawBuffers(t)},Aa:function(e,r,t,n){var o;if(!Ne.currentElementArrayBufferBinding){var a=ze.calcBufLength(1,t,0,r);o=ze.getTempIndexBuffer(a),Ne.bindBuffer(34963,o),Ne.bufferSubData(34963,0,ie.subarray(n,n+a)),n=0}ze.preDrawHandleClientVertexAttribBindings(r),Ne.drawElements(e,r,t,n),ze.postDrawHandleClientVertexAttribBindings(r),Ne.currentElementArrayBufferBinding||Ne.bindBuffer(34963,null)},N:function(e){Ne.enable(e)},z:function(e){ze.currentContext.clientBuffers[e].enabled=!0,Ne.enableVertexAttribArray(e)},La:function(e){Ne.endQuery(e)},K:function(e,r,t,n){Ne.framebufferRenderbuffer(e,r,t,ze.renderbuffers[n])},g:function(e,r,t,n,o){Ne.framebufferTexture2D(e,r,t,ze.textures[n],o)},q:function(e,r){D(e,r,"createBuffer",ze.buffers)},x:function(e,r){D(e,r,"createFramebuffer",ze.framebuffers)},Na:function(e,r){D(e,r,"createQuery",ze.queries)},M:function(e,r){D(e,r,"createRenderbuffer",ze.renderbuffers)},s:function(e,r){D(e,r,"createTexture",ze.textures)},E:function(e,r){D(e,r,"createVertexArray",ze.vaos)},Ba:function(e){Ne.generateMipmap(e)},U:function(){return Ne.getError()},za:function(e,r){T(e,r,0)},Ha:function(e,r,t,n){var o=Ne.getProgramInfoLog(ze.programs[e]),a=r>0&&n?s(o,n,r):0;t&&(fe[t>>2]=a)},Y:function(e,r,t){if(t)if(e>=ze.counter)ze.recordError(1281);else if(e=ze.programs[e],35716==r){var n=Ne.getProgramInfoLog(e);fe[t>>2]=n.length+1}else if(35719==r){if(!e.maxUniformLength)for(var o=0;o<Ne.getProgramParameter(e,35718);++o)e.maxUniformLength=Math.max(e.maxUniformLength,Ne.getActiveUniform(e,o).name.length+1);fe[t>>2]=e.maxUniformLength}else if(35722==r){if(!e.maxAttributeLength)for(o=0;o<Ne.getProgramParameter(e,35721);++o)e.maxAttributeLength=Math.max(e.maxAttributeLength,Ne.getActiveAttrib(e,o).name.length+1);fe[t>>2]=e.maxAttributeLength}else if(35381==r){if(!e.maxUniformBlockNameLength)for(o=0;o<Ne.getProgramParameter(e,35382);++o)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,Ne.getActiveUniformBlockName(e,o).length+1);fe[t>>2]=e.maxUniformBlockNameLength}else fe[t>>2]=Ne.getProgramParameter(e,r);else ze.recordError(1281)},D:function(e,r,t){var n,o=ze.queries[e],a=Ne.getQueryParameter(o,r);n="boolean"==typeof a?a?1:0:a,fe[t>>2]=n},Ia:function(e,r,t,n){var o=Ne.getShaderInfoLog(ze.shaders[e]),a=r>0&&n?s(o,n,r):0;t&&(fe[t>>2]=a)},G:function(e,r,t){if(t)if(35716==r){var n=Ne.getShaderInfoLog(ze.shaders[e]),o=n?n.length+1:0;fe[t>>2]=o}else if(35720==r){var a=Ne.getShaderSource(ze.shaders[e]),i=a?a.length+1:0;fe[t>>2]=i}else fe[t>>2]=Ne.getShaderParameter(ze.shaders[e],r);else ze.recordError(1281)},ya:function(e,r){if(ze.currentContext.version<2)return ze.recordError(1282),0;var t=ze.stringiCache[e];if(t)return r<0||r>=t.length?(ze.recordError(1281),0):t[r];if(7939===e){var n=Ne.getSupportedExtensions()||[];return n=(n=n.concat(n.map((function(e){return"GL_"+e})))).map((function(e){return M(e)})),t=ze.stringiCache[e]=n,r<0||r>=t.length?(ze.recordError(1281),0):t[r]}return ze.recordError(1280),0},Ea:function(e,r){return Ne.getUniformBlockIndex(ze.programs[e],i(r))},Fa:function(e,r){if(r=i(r),e=ze.programs[e]){!function(e){var r,t,n=e.uniformLocsById,o=e.uniformSizeAndIdsByName;if(!n)for(e.uniformLocsById=n={},e.uniformArrayNamesById={},r=0;r<Ne.getProgramParameter(e,35718);++r){var a=Ne.getActiveUniform(e,r),i=a.name,u=a.size,s=R(i),f=s>0?i.slice(0,s):i,c=e.uniformIdCounter;for(e.uniformIdCounter+=u,o[f]=[u,c],t=0;t<u;++t)n[c]=t,e.uniformArrayNamesById[c++]=f}}(e);var t=e.uniformLocsById,n=0,o=r,a=R(r);a>0&&(s=r.slice(a+1),n=parseInt(s)>>>0,o=r.slice(0,a));var u=e.uniformSizeAndIdsByName[o];if(u&&n<u[0]&&(t[n+=u[1]]=t[n]||Ne.getUniformLocation(e,r)))return n}var s;return-1},V:function(e){return(e=ze.programs[e])?Ne.isProgram(e):0},W:function(e){var r=ze.shaders[e];return r?Ne.isShader(r):0},Ja:function(e){e=ze.programs[e],Ne.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},ra:function(e){Ne.readBuffer(e)},L:function(e,r,t,n,o){Ne.renderbufferStorageMultisample(e,r,t,n,o)},$:function(e,r,t,n){var o=ze.getSource(e,r,t,n);Ne.shaderSource(ze.shaders[e],o)},h:function(e,r,t){Ne.texParameteri(e,r,t)},t:function(e,r,t,n,o){Ne.texStorage2D(e,r,t,n,o)},va:function(e,r,t,n,o,a,i,u,s){if(Ne.currentPixelUnpackBufferBinding)Ne.texSubImage2D(e,r,t,n,o,a,i,u,s);else if(s){var f=C(u);Ne.texSubImage2D(e,r,t,n,o,a,i,u,f,s>>F(f))}else Ne.texSubImage2D(e,r,t,n,o,a,i,u,null)},Q:function(e,r){Ne.uniform1f(L(e),r)},e:function(e,r){Ne.uniform1i(L(e),r)},Ca:function(e,r,t){r&&Ne.uniform2fv(L(e),le,t>>2,2*r)},S:function(e,r,t){r&&Ne.uniform3fv(L(e),le,t>>2,3*r)},Da:function(e,r,t){e=ze.programs[e],Ne.uniformBlockBinding(e,r,t)},R:function(e,r,t,n){r&&Ne.uniformMatrix4fv(L(e),!!t,le,n>>2,16*r)},r:function(e){e=ze.programs[e],Ne.useProgram(e),Ne.currentProgram=e},y:function(e,r,t,n,o,a){var i=ze.currentContext.clientBuffers[e];if(!Ne.currentArrayBufferBinding)return i.size=r,i.type=t,i.normalized=n,i.stride=o,i.ptr=a,i.clientside=!0,void(i.vertexAttribPointerAdaptor=function(e,r,t,n,o,a){this.vertexAttribPointer(e,r,t,n,o,a)});i.clientside=!1,Ne.vertexAttribPointer(e,r,t,!!n,o,a)},u:function(e,r,t,n){Ne.viewport(e,r,t,n)},ca:function(e,r,t,n,o){return H(e,r,t,n)}},Je=(function(){var e={a:Ze};function r(e,r){var t,n=e.exports;O.asm=n,te=O.asm.Qa,c(te.buffer),me=O.asm.Sa,t=O.asm.Ra,Ee.unshift(t),h()}function t(e){r(e.instance)}function n(r){return($||!Z&&!J||"function"!=typeof fetch?Promise.resolve().then((function(){return w(pe)})):fetch(pe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+pe+"'";return e.arrayBuffer()})).catch((function(){return w(pe)}))).then((function(r){return WebAssembly.instantiate(r,e)})).then((function(e){return e})).then(r,(function(e){re("failed to asynchronously prepare wasm: "+e),g(e)}))}if(m(),O.instantiateWasm)try{return O.instantiateWasm(e,r)}catch(a){re("Module.instantiateWasm callback failed with error: "+a),o(a)}($||"function"!=typeof WebAssembly.instantiateStreaming||v(pe)||"function"!=typeof fetch?n(t):fetch(pe,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(t,(function(e){return re("wasm streaming compile failed: "+e),re("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(o)}(),O.___wasm_call_ctors=function(){return(O.___wasm_call_ctors=O.asm.Ra).apply(null,arguments)},O._free=function(){return(Je=O._free=O.asm.Ta).apply(null,arguments)}),Ke=(O._PH_Version=function(){return(O._PH_Version=O.asm.Ua).apply(null,arguments)},O._PH_VersionString=function(){return(O._PH_VersionString=O.asm.Va).apply(null,arguments)},O._PH_Create=function(){return(O._PH_Create=O.asm.Wa).apply(null,arguments)},O._malloc=function(){return(Ke=O._malloc=O.asm.Xa).apply(null,arguments)}),$e=(O._PH_Init3D=function(){return(O._PH_Init3D=O.asm.Ya).apply(null,arguments)},O._PH_Resize=function(){return(O._PH_Resize=O.asm.Za).apply(null,arguments)},O._PH_Update=function(){return(O._PH_Update=O.asm._a).apply(null,arguments)},O._PH_Render=function(){return(O._PH_Render=O.asm.$a).apply(null,arguments)},O._PH_Destroy=function(){return(O._PH_Destroy=O.asm.ab).apply(null,arguments)},O._PH_CreateTexture=function(){return(O._PH_CreateTexture=O.asm.bb).apply(null,arguments)},O._PH_SetMaterialTextureArray=function(){return(O._PH_SetMaterialTextureArray=O.asm.cb).apply(null,arguments)},O._PH_SetEnvironmentMapTexture=function(){return(O._PH_SetEnvironmentMapTexture=O.asm.db).apply(null,arguments)},O._PH_AddMesh=function(){return(O._PH_AddMesh=O.asm.eb).apply(null,arguments)},O._PH_AddMaterials=function(){return(O._PH_AddMaterials=O.asm.fb).apply(null,arguments)},O._PH_SetBackgroundColor=function(){return(O._PH_SetBackgroundColor=O.asm.gb).apply(null,arguments)},O._PH_GetBackgroundColor=function(){return(O._PH_GetBackgroundColor=O.asm.hb).apply(null,arguments)},O._PH_SetAmbientColor=function(){return(O._PH_SetAmbientColor=O.asm.ib).apply(null,arguments)},O._PH_GetAmbientColor=function(){return(O._PH_GetAmbientColor=O.asm.jb).apply(null,arguments)},O._PH_SetBackgroundColors=function(){return(O._PH_SetBackgroundColors=O.asm.kb).apply(null,arguments)},O._PH_GetBackgroundColors=function(){return(O._PH_GetBackgroundColors=O.asm.lb).apply(null,arguments)},O._BR_Debug_GetFPS=function(){return(O._BR_Debug_GetFPS=O.asm.mb).apply(null,arguments)},O._PH_ResetCamera=function(){return(O._PH_ResetCamera=O.asm.nb).apply(null,arguments)},O._PH_RotateCamera=function(){return(O._PH_RotateCamera=O.asm.ob).apply(null,arguments)},O._PH_LoadScene=function(){return(O._PH_LoadScene=O.asm.pb).apply(null,arguments)},O._PH_LoadSceneMemory=function(){return(O._PH_LoadSceneMemory=O.asm.qb).apply(null,arguments)},O.___errno_location=function(){return($e=O.___errno_location=O.asm.rb).apply(null,arguments)}),er=O.stackSave=function(){return(er=O.stackSave=O.asm.sb).apply(null,arguments)},rr=O.stackRestore=function(){return(rr=O.stackRestore=O.asm.tb).apply(null,arguments)},tr=O.stackAlloc=function(){return(tr=O.stackAlloc=O.asm.ub).apply(null,arguments)};O.___emscripten_embedded_file_data=73928,O.___start_em_js=91952,O.___stop_em_js=92350;if(O.UTF8ToString=i,O.stringToUTF8=s,O.lengthBytesUTF8=f,O.addRunDependency=m,O.removeRunDependency=h,O.FS_createPath=Re.createPath,O.FS_createDataFile=Re.createDataFile,O.FS_createPreloadedFile=Re.createPreloadedFile,O.FS_createLazyFile=Re.createLazyFile,O.FS_createDevice=Re.createDevice,O.FS_unlink=Re.unlink,O.cwrap=function(e,r,t,n){var o=(t=t||[]).every((function(e){return"number"===e||"boolean"===e}));return"string"!==r&&o&&!n?U(e):function(){return N(e,r,t,arguments)}},O.GL=ze,Pe=function e(){Qe||z(),Qe||(Pe=e)},O.preInit)for("function"==typeof O.preInit&&(O.preInit=[O.preInit]);O.preInit.length>0;)O.preInit.pop()();return z(),r.ready}}();t(3935);function T(e){e.adaptive_resolution;var r=e.src;return(0,u.useEffect)((function(){var e;console.log("Initialize"),e=function(){var e=document.getElementById("ag_canvas"),r=new A(e.getContext("webgl2"));r.LoadEnvImage("viewer/park_2k.jpg"),r.LoadScene("viewer/house.glb");var t=!0,n=0,o=0,a=!1;e.addEventListener("mousedown",(function(e){0!==e.buttons&&(n=e.offsetX,o=e.offsetY,a=!0)}),t),e.addEventListener("mousemove",(function(t){if(a){var i=(t.offsetX-n)/e.width,u=(t.offsetY-o)/e.height;r.RotateCamera(200*i,200*u),n=t.offsetX,o=t.offsetY}}),t),e.addEventListener("mouseup",(function(e){a=!1}),t),e.addEventListener("touchstart",(function(e){1===event.touches.length?(a=!0,n=event.touches[0].clientX,o=event.touches[0].clientY):disable_zoom||2!==event.touches.length||Math.hypot(event.touches[0].pageX-event.touches[1].pageX,event.touches[0].pageY-event.touches[1].pageY),event.cancelable&&event.preventDefault()}),{passive:!1}),e.addEventListener("touchmove",(function(t){if(a){var i=(event.touches[0].clientX-n)/e.width,u=(event.touches[0].clientY-o)/e.height;r.RotateCamera(200*i,200*u),n=event.touches[0].clientX,o=event.touches[0].clientY}event.cancelable&&event.preventDefault()}),{passive:!1}),e.addEventListener("touchend",(function(e){a=!1}),{passive:!1});var i=function(){r.RotateCamera(.2,0),r.Update(),r.Render(),window.requestAnimationFrame(i)};window.requestAnimationFrame(i)},console.log("OnLoad"),D().then((function(r){E=r,e()}))}),[]),(0,u.useEffect)((function(){console.log("Src",r)}),[r]),(0,n.jsx)("div",{children:(0,n.jsx)("canvas",{id:"ag_canvas",width:"512",height:"512"})})}var M="A. Gkaravelis",R="Personal website of Anastasios Gkaravelis",C="projects/lotus.jpg";function F(){return(0,n.jsxs)("div",{children:[(0,n.jsxs)(o.default,{children:[(0,n.jsx)("title",{children:"Anastasios Gkaravelis"}),(0,n.jsx)("meta",{name:"description",content:R}),(0,n.jsx)("link",{rel:"icon",href:"images/icon1.jpg"}),(0,n.jsx)("meta",{name:"robots",content:"follow, index"}),(0,n.jsx)("link",{rel:"canonical",href:"https://agkaravelis.com"}),(0,n.jsx)("meta",{property:"og:url",content:"https://agkaravelis.com"}),(0,n.jsx)("meta",{property:"og:type",content:"website"}),(0,n.jsx)("meta",{property:"og:site_name",content:"Anastasios Gkaravelis"}),(0,n.jsx)("meta",{property:"og:title",content:M}),(0,n.jsx)("meta",{property:"og:description",content:R}),(0,n.jsx)("meta",{property:"og:image",content:C}),(0,n.jsx)("meta",{name:"twitter:card",content:C}),(0,n.jsx)("meta",{name:"twitter:site",content:"@anastasios_Gk"}),(0,n.jsx)("meta",{name:"twitter:title",content:M}),(0,n.jsx)("meta",{name:"twitter:description",content:R}),(0,n.jsx)("meta",{name:"twitter:image",content:C})]}),(0,n.jsx)(a.Z,{}),(0,n.jsxs)("main",{children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:(0,n.jsx)(T,{src:"test"})}),(0,n.jsx)("h2",{children:"Welcome to my personal webpage!"}),(0,n.jsxs)("p",{children:["Hello, my name is Anastasios Gkaravelis and i am a computer graphics reasearcher and developer. I was born in Larissa, Greece in 1989. I received my B.Sc. and M.Sc. in Computer Science from the Department of Informatics at the ",(0,n.jsx)("a",{href:"https://aueb.gr",target:"__blank",children:"Athens University of Economics and Business"})," and a Ph.D. on the field of ",(0,n.jsx)("a",{href:"http://graphics.cs.aueb.gr",target:"__blank",children:"Computer Graphics"}),' in 2019 from the same department, under the supervision of Prof. Georgios Papaioannou. The subject of my doctoral thesis was "',(0,n.jsx)("em",{children:"Efficient Algorithms for Inverse Lighting Design"}),'".']}),(0,n.jsx)("p",{children:"I have served as a researcher and developer in national and European projects and worked in the industry delivering projects on high performance computing and real-time visualization of large-volume 3D data."}),(0,n.jsx)("p",{children:"My research interests are focused on computer graphics and, in particular, real-time and offline global illumination algorithms, photorealistic rendering and inverse design problems."})]}),(0,n.jsx)(i.Z,{})]})}},9111:function(e,r,t){"use strict";e.exports=t.p+"static/media/phasmaviewer.0e28b6ad.wasm"}},function(e){e.O(0,[706,774,888,179],(function(){return r=8581,e(e.s=r);var r}));var r=e.O();_N_E=r}]);